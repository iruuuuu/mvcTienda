require_once('models/Product.php');
require_once('models/ProductosRepository.php');
require_once('models/User.php');
require_once('models/UserRepository.php');
require_once('models/Pedido.php');
require_once('models/PedidoRepository.php');

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos</title>
</head>
<body>
    <h2>Productos</h2>
    <?php 
    if (!isset($products)) {
        $products = [];
    }
    ?>
    
    <?php if (count($products) > 0): ?>
        <?php foreach ($products as $product): ?>
            <div style="border: 1px solid #6c6c6cff; padding: 10px; margin: 10px 0;">
                <h3><?php echo htmlspecialchars($product->getName()); ?></h3>
                <p><strong>Descripción:</strong> <?php echo htmlspecialchars($product->getDescription()); ?></p>
                <p><strong>Stock:</strong> <?php echo htmlspecialchars($product->getStock()); ?></p>
                <!-- Agrega aquí cualquier otra información relevante del producto -->
                
                <?php 
                if (isset($_SESSION['user']) && is_object($_SESSION['user'])): 
                    if ($_SESSION['user']->isAdmin()):
                ?>
                    <a href="index.php?delete=<?php echo $product->getId(); ?>" 
                        onclick="return confirm('¿Estás seguro de eliminar este producto?')">
                        [Eliminar Producto]
                    </a>
                <?php 
                    endif;
                endif; 
                ?>
            </div>
        <?php endforeach; ?>
    <?php else: ?>
        <p>No hay productos aún.</p>
    <?php endif; ?>
</body>
</html>